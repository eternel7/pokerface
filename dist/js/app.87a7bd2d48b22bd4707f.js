webpackJsonp([1],{"+OPZ":function(e,t){},"33zH":function(e,t){},"57iA":function(e,t){},"5VHd":function(e,t){},"7Z4Z":function(e,t){e.exports={Page:{Home:"Home",SignIn:"Sign in",SignUp:"Sign up",Profile:"Profile",ForgotPassword:"Forgot password",ResetPassword:"Reset password",Chat:"Chat",Chatrooms:"Choose a chat"},Nav:{Home:"Home",SignIn:"Sign in",SignUp:"Sign up",StartAChat:"Chat",YourProfile:"Profile",Chatrooms:"Start a Chat",Logout:"Log out"},language:{fr:"Francais",en:"English",Choice:"Language"},user:{TabUser:"User",TabMore:"More",TabPassword:"Security",TabDelete:"Delete",Email:"Email",Password:"Password",NewPassword:"New password",ConfirmNewPassword:"Confirm new password",First_name:"First name",Last_name:"Last name",Login:"Login",SignUp:"Sign up",SignIn:"Sign in",Register:"Register",ForgotPassword:"Forgot Password",Send:"Forgot Password",ResetPasswordToken:"Security token",Logout:"Logout",nonConnected:"Non connected user",Update:"Update",UpdateConfirmed:"Update done",UpdatePassword:"Update password",Wrong_former_password:"Wrong former password.",Your_not_authenticated:"Your not correctly authenticated.",New_password_not_correctly_confirmed_or_too_short:"New password not correctly confirmed or too short.",Password_updated:"Your password has been updated.",Delete:"Delete",ConfirmDeletionQuestion:"Are you sure you want to delete your profile?",ConfirmedDeletion:"You have deleted the user profile for {email}",BeforeDeleteMessage:"You can delete your profile by clicking the following button. This action is irreversible."},SignUp:{ConfirmPassword:"Confirm password",ClickOrDropToUpdateYourProfilePicture:"You can click or drop an image to update your profile.",SignInIfYouHaveAnAccount:"Already have an account?",EnterACorrectEmailAddress:"Enter a correct email address.",ConfirmedPasswordIncorrect:"Confirmed password incorrect.",Register:"Register"},SignIn:{No_user_for_the_given_email_and_password:"No user for the given email and password. Please try again.",User_has_been_deactivated:"User has been deactivated. Contact support if you don't know why."},ForgotPassword:{Send_password_reset_email:"Send",state0:{Text:"We'll send you a link to reset your password."},state1:{Text1:"We have send an email to {email} with instruction on how to reset your password.",Text2:"Didn't receive the password reset email? Check your spam folder for an email with subject {0}.",Text3:"If you still don't see the email ",Text3link:"try again"},Go_to_reset_password:"Go to reset password"},ResetPassword:{Update_Password:"Update password",no_user_found_for_this_email:"No user account matching the given criteria.",TokenIncorrect:"Security token incorrect.",Security_token_invalid:"Security token invalid."},emails:{forgotPassword:{headTitle:"Pokerface forgotten password request",head01TextOnly:"Use this link to reset your password. The link is only valid for 2 hours.",head01Title:"PokerFace"},forgotpasswordnoaccount:{head01Title:"PokerFace",headTitle:"Pokerface forgotten password request but we don't know you...",head01TextOnly:"Erroneous Pokerface forgotten password request"},passwordhasbeenreset:{head01Title:"PokerFace",headTitle:"Your password has been reset successfully for PokerFace",head01TextOnly:"Pokerface password updated"},passwordhasbeenupdated:{head01Title:"PokerFace",headTitle:"Your password has been updated successfully for PokerFace",head01TextOnly:"Pokerface password updated",ContentTitle:"Hi {name},",ContentText:"Your password has been updated successfully. You can now use your new password to log in.",ButtonLabel:"Login",FooterTitle:"More informations",FooterText1:"For security, this request was received from {ip_address} on a {operating_system} device, using {browser_name}.",FooterText2:"If you did not request a password update, please connect to PokerFace and change your password or <a href='{support_url}'>contact support</a> if you have questions.",Thanks:"Thanks,",Signature:"The PokerFace Team",EndText:"If youâ€™re having trouble with the button above, copy and paste the URL below into your web browser."}},password:{meter:"Password complexity indicator. The letter corresponds to an aid for checking the correct password input.",Ensure_this_field_has_at_least_6_characters:"Ensure password has at least 6 characters."},newPassword:{PleaseInputYourFormerPassword:"Please fill your former password.",Ensure_this_field_has_at_least_6_characters:"Ensure new password has at least 6 characters.",NewPasswordSimilarToFormerOne:"New password is similar to former one.",ConfirmedPasswordIncorrect:"Confirmed password incorrect."},email:{This_field_must_be_unique:'Email already used. If you forget your password use the "Forgot Password" button.'},username:{A_user_with_that_username_already_exists:""},"Network Error":"Network Error","You need to be login":"You need to sign in.","Request failed with status code 404":"Request failed. URL addressed was not found.","Request failed with status code 429":"You have sent too many requests. Try again in one hour.","Request failed with status code 500":"Request failed. Server couldn't handle your request."}},B0nN:function(e,t){},LxsE:function(e,t){},NHnr:function(e,t,s){"use strict";function r(e){s("anic")}function a(e){return G.locale=e,"undefined"!=typeof Storage&&localStorage.setItem("language",e),!0}function o(e){s("+OPZ")}function n(e){s("W/Pp")}function i(e){s("URLj")}function l(e,t,s){var r=new Date;r.setTime(r.getTime()+24*s*60*60*1e3);var a="expires="+r.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}function d(e){for(var t=e+"=",s=decodeURIComponent(document.cookie),r=s.split(";"),a=0;a<r.length;a++){for(var o=r[a];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""}function u(e){s("57iA")}function c(e){var t=0,s=!0,r=!1,a=void 0;try{for(var o,n=V()(e);!(s=(o=n.next()).done);s=!0){t+=o.value.charCodeAt()}}catch(e){r=!0,a=e}finally{try{!s&&n.return&&n.return()}finally{if(r)throw a}}return t}function m(e){s("vOkR")}function p(e){s("33zH")}function f(e){s("OudP")}function _(e){s("PsRy")}function v(e){s("VgzX")}function h(e){s("urp2")}function g(e){s("B0nN")}function w(e){s("ZNiQ")}function b(e){s("5VHd")}function P(e){s("LxsE")}function C(e){s("aA6z")}function x(e){s("oJHS")}function y(e){s("PJLj")}function k(e){s("OP8t")}Object.defineProperty(t,"__esModule",{value:!0});var $=s("7+uW"),T={name:"Page",mounted:function(){componentHandler.upgradeDom(),componentHandler.upgradeAllRegistered()}},S=s("VU/8"),U=S(T,null,!1,null,null,null),F=U.exports,E={name:"Loading",computed:{visible:function(){return!!this.$root.loading}}},N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.visible?s("div",{attrs:{id:"full_page_overlay"}},[s("div",{staticClass:"mdl-color--accent",attrs:{id:"loading_in_progress"}})]):e._e()},j=[],R={render:N,staticRenderFns:j},I=R,D=s("VU/8"),A=r,L=D(E,I,!1,A,"data-v-202f938c",null),M=L.exports,q=s("BO1k"),V=s.n(q),O=s("TXmL"),z=s("TYGh"),H=s.n(z),Y=s("7Z4Z"),W=s.n(Y);$.a.use(O.a);var B={en:W.a,fr:H.a},J=["en","fr"],G=new O.a({locale:function(){var e=localStorage.getItem("language");if(e)return e;var t=navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||"en";if(J.indexOf(t)>-1)return t;var s=navigator.languages,r=!0,a=!1,o=void 0;try{for(var n,i=V()(s);!(r=(n=i.next()).done);r=!0){var l=n.value;if(J.indexOf(l)>-1)return l}}catch(e){a=!0,o=e}finally{try{!r&&i.return&&i.return()}finally{if(a)throw o}}return"en"}(),messages:B}),Z=G;s("Wiqq");var K={name:"localizerChooser",i18n:Z,data:function(){return{locales:J}},methods:{otherLocales:function(e){var t=this;return e.filter(function(e){return e!==t.$i18n.locale})},currentLocale:function(e){var t=this;return e.filter(function(e){return e===t.$i18n.locale})},setLocale:function(e){a(e)},switchLocales:function(){var e=this;if(2===this.locales.length){var t=!0,s=!1,r=void 0;try{for(var o,n=V()(e.locales);!(t=(o=n.next()).done);t=!0){var i=o.value;if(i!==e.$i18n.locale)return a(i),!0}}catch(e){s=!0,r=e}finally{try{!t&&n.return&&n.return()}finally{if(s)throw r}}}return!1}}},Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mdl-navigation__link",attrs:{id:"lang-switcher"},on:{click:function(t){e.switchLocales()}}},[s("i",{staticClass:"material-icons"},[e._v("language")]),e._v(" "),s("span",[e._v(e._s(e.$t("language."+e.$i18n.locale)))]),e._v(" "),e.locales.length>2?s("ul",{staticClass:"mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect",attrs:{for:"lang-switcher"}},e._l(e.otherLocales(e.locales),function(t){return s("li",{staticClass:"mdl-menu__item",on:{click:function(s){e.setLocale(t)}}},[e._v(e._s(e.$t("language."+t))+"\n    ")])})):e._e()])},X=[],ee={render:Q,staticRenderFns:X},te=ee,se=s("VU/8"),re=o,ae=se(K,te,!1,re,null,null),oe=ae.exports,ne=s("mvHQ"),ie=s.n(ne),le=s("mtWM"),de=s.n(le),ue={methods:{authHeader:function(e){return{headers:{authorization:"JWT "+(e||localStorage.getItem("vue-authenticate.vueauth_token"))}}},authenticate:function(e){var t=e;"google"===e&&(t="google-oauth2");var s=this;s.$root.loading=!0,s.$auth.authenticate(e,{provider:t}).then(function(e){s.$root.loading=!1,s.authSuccess(e.data,s,!1)}).catch(function(e){s.$root.loading=!1,s.authError(e,s)})},authStoreUser:function(e,t){t.$root.user=e,window.localStorage.setItem("auth-user",ie()(e))},authSuccess:function(e,t,s){s&&window.localStorage.setItem("vue-authenticate.vueauth_token",s),t.authStoreUser(e,t),t.$router.push({name:"Profile"})},authError:function(e,t){console.log("authError",e),t?t.logout(t):this.logout(this)},logout:function(e){e&&e.$root&&(e.$root.loading=!0,e.$root.setUnauthenticated(),de.a.post("/api/ulogout/",{},this.authHeader()).then(function(t){e.$root.loading=!1,console.log("user log out",t.data.message)}).catch(function(t){e.$root.loading=!1,console.log("Error in user log out",t)})),localStorage.removeItem("vue-authenticate.vueauth_token"),localStorage.removeItem("auth-user")},isAuthenticated:function(e,t){var s=this,r=localStorage.getItem("vue-authenticate.vueauth_token");de.a.post("/api/check/",{token:r},this.authHeader(r)).then(function(s){s.data.status?e():t("server side no authentication")}).catch(function(e){t(e),s.authError(e,s)})},checkToken:function(e,t){var s=this;this.isAuthenticated(function(){t({path:!0})},function(e){t({path:"/"}),s.authError(e,s)})},login:function(e,t){e.$root.loading=!0,e.$auth.login(t).then(function(t){e.errors=[],e.$root.loading=!1,t.data.token?e.authSuccess({email:t.data.email,first_name:t.data.first_name||"",last_name:t.data.last_name||"",username:t.data.username,avatar_image:t.data.avatar_image},e,t.data.token):(e.authError(t.data.message,e),t.data.message&&(e.errors=[],e.errors.push({message:t.data.message})))}).catch(function(t){e.$root.loading=!1,e.authError(t,e),e.errors=[],e.errors.push(t)})}}};s("Wiqq");var ce=function(e){ue.methods.isAuthenticated(function(){},function(){e.$root.setUnauthenticated()})},me={name:"navbar",extends:F,components:{localizerChooser:oe},methods:{hideMenu:function(){document.getElementsByClassName("mdl-layout__drawer")[0].classList.remove("is-visible"),document.getElementsByClassName("mdl-layout__obfuscator")[0].classList.remove("is-visible")},tryToLogout:function(){ue.methods.logout(this),this.hideMenu()}},watch:{$route:function(e,t){ce(this)}},created:function(){ce(this)},beforeUpdate:function(){ce(this)}},pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mdl-layout__drawer"},[s("span",{staticClass:"mdl-layout-title"},[e._v("Pokerface")]),e._v(" "),s("nav",{staticClass:"mdl-navigation"},[s("router-link",{staticClass:"mdl-navigation__link",attrs:{to:"/"},nativeOn:{click:function(t){return e.hideMenu(t)}}},[e._v(e._s(e.$t("Nav.Home")))]),e._v(" "),e.$root.authenticated?e._e():s("router-link",{staticClass:"mdl-navigation__link",attrs:{id:"nav_signin",to:"/signin"},nativeOn:{click:function(t){return e.hideMenu(t)}}},[e._v(e._s(e.$t("Nav.SignIn"))+"\n    ")]),e._v(" "),e.$root.authenticated?e._e():s("router-link",{staticClass:"mdl-navigation__link",attrs:{id:"nav_signup",to:"/signup"},nativeOn:{click:function(t){return e.hideMenu(t)}}},[e._v(e._s(e.$t("Nav.SignUp"))+"\n    ")]),e._v(" "),e.$root.authenticated?s("router-link",{staticClass:"mdl-navigation__link",attrs:{id:"nav_chatrooms",to:"/chatrooms"},nativeOn:{click:function(t){return e.hideMenu(t)}}},[e._v(e._s(e.$t("Nav.StartAChat"))+"\n    ")]):e._e(),e._v(" "),e.$root.authenticated?s("router-link",{staticClass:"mdl-navigation__link",attrs:{id:"nav_profile",to:"/profile"},nativeOn:{click:function(t){return e.hideMenu(t)}}},[e._v(e._s(e.$t("Nav.YourProfile"))+"\n    ")]):e._e(),e._v(" "),e.$root.authenticated?s("router-link",{staticClass:"mdl-navigation__link",attrs:{id:"nav_logout",to:"/"},nativeOn:{click:function(t){return e.tryToLogout(t)}}},[e._v(e._s(e.$t("Nav.Logout"))+"\n    ")]):e._e(),e._v(" "),s("localizerChooser")],1)])},fe=[],_e={render:pe,staticRenderFns:fe},ve=_e,he=s("VU/8"),ge=n,we=he(me,ve,!1,ge,null,null),be=we.exports,Pe={name:"app",props:["message","searchAvailable"],extends:F,components:{navbar:be,loading:M},data:function(){return{}},methods:{showSnackbar:function(){document.querySelector("#toast").MaterialSnackbar.showSnackbar(this.$root)}}},Ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mdl-layout mdl-js-layout mdl-layout--fixed-header",attrs:{id:"app-content"}},[s("header",{staticClass:"mdl-layout__header"},[s("loading"),e._v(" "),s("div",{staticClass:"mdl-layout__header-row"},[s("span",{staticClass:"mdl-layout-title"},[e._v("Pokerface")]),e._v(" "),s("div",{staticClass:"mdl-layout-spacer"}),e._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.searchAvailable,expression:"searchAvailable"}],staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--expandable\n                mdl-textfield--floating-label mdl-textfield--align-right"},[s("label",{staticClass:"mdl-button mdl-js-button mdl-button--icon",attrs:{for:"fixed-header-drawer-exp"}},[s("i",{staticClass:"material-icons"},[e._v("search")])]),e._v(" "),s("div",{staticClass:"mdl-textfield__expandable-holder"},[s("input",{staticClass:"mdl-textfield__input",attrs:{type:"text",name:"search",id:"fixed-header-drawer-exp"}})])])])],1)],1),e._v(" "),s("navbar"),e._v(" "),s("main",{staticClass:"mdl-layout__content"},[s("section",{staticClass:"section"},[s("div",{staticClass:"section-inner"},[s("router-view")],1)]),e._v(" "),e._m(0)])],1)},xe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mdl-js-snackbar mdl-snackbar",attrs:{id:"toast"}},[s("div",{staticClass:"mdl-snackbar__text"}),e._v(" "),s("button",{staticClass:"mdl-snackbar__action",attrs:{type:"button"}})])}],ye={render:Ce,staticRenderFns:xe},ke=ye,$e=s("VU/8"),Te=i,Se=$e(Pe,ke,!1,Te,null,null),Ue=Se.exports,Fe={name:"Cookies-accept",data:function(){return{hideMe:!1}},computed:{visible:function(){return"true"!==d("cb-enabled")&&!this.hideMe}},methods:{accept:function(){l("cb-enabled",!0,30),this.hideMe=!0}}},Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.visible?s("div",{attrs:{id:"cookieConsent"}},[s("button",{staticClass:"mdl-button mdl-button--raised mdl-button--colored mdl-color-text--white",attrs:{id:"closeCookieConsent"},on:{click:function(t){return t.preventDefault(),e.accept(t)}}},[e._v("x\n  ")]),e._v(" "),s("div",[s("h6",[e._v("Notice")]),e._v(" "),e._m(0),e._v(" "),s("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored mdl-color-text--white",on:{click:function(t){return t.preventDefault(),e.accept(t)}}},[e._v("That's Fine\n    ")])])]):e._e()},Ne=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("This website or its third-party tools use cookies, which are necessary to its functioning and required to\n      achieve\n      the purposes illustrated in the "),s("a",{attrs:{href:"#",target:"_blank"}},[e._v("Privacy Shield Policy")]),e._v(". By closing this banner,\n      clicking a link or continuing to\n      browse otherwise, you agree to the use of cookies.\n    ")])}],je={render:Ee,staticRenderFns:Ne},Re=je,Ie=s("VU/8"),De=u,Ae=Ie(Fe,Re,!1,De,"data-v-7a4951fa",null),Le=Ae.exports,Me=s("/ocq"),qe=s("Omld"),Ve=s.n(qe),Oe={name:"Pwdhelper",props:{pwd:{type:String}},data:function(){return{valuePasswordStrength:0,textPassword:""}},methods:{testPasswordStrength:function(e){var t=this,s=Ve()(e);t.valuePasswordStrength=s.score,t.textPassword=""!==e?(c(this.pwd)%36).toString(36):""}},watch:{pwd:function(){this.testPasswordStrength(this.pwd)}}},ze=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",{staticClass:"pwdMeter",attrs:{title:e.$t("password.meter"),value:e.valuePasswordStrength}},[e._v(e._s(e.textPassword))])},He=[],Ye={render:ze,staticRenderFns:He},We=Ye,Be=s("VU/8"),Je=m,Ge=Be(Oe,We,!1,Je,"data-v-193add98",null),Ze=Ge.exports,Ke={props:{email:"",password:"",userTitle:{default:"user.Login",type:String}},name:"usermainfields",components:{pwdMeter:Ze},computed:{sync_email:{get:function(){return this.email},set:function(e){this.$emit("update:email",e)}},sync_password:{get:function(){return this.password},set:function(e){this.$emit("update:password",e)}}},methods:{emitEnterKeyUp:function(e){this.$emit("enterKeyUp")}},mounted:function(){this.$refs.email.focus()}},Qe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:{"is-dirty":!!e.sync_email}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.sync_email,expression:"sync_email",modifiers:{trim:!0}}],ref:"email",staticClass:"mdl-textfield__input",attrs:{type:"text",id:"email",required:"",autofocus:""},domProps:{value:e.sync_email},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.emitEnterKeyUp(t):null},input:function(t){t.target.composing||(e.sync_email=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"mdl-textfield__label",attrs:{for:"email"}},[e._v(e._s(e.$t("user.Email")))])]),e._v(" "),s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:{"is-dirty":!!e.sync_password}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.sync_password,expression:"sync_password",modifiers:{trim:!0}}],staticClass:"mdl-textfield__input",attrs:{type:"password",id:"password",required:""},domProps:{value:e.sync_password},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.emitEnterKeyUp(t):null},input:function(t){t.target.composing||(e.sync_password=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"mdl-textfield__label",attrs:{for:"password"}},[e._v(e._s(e.$t("user.Password")))]),e._v(" "),s("pwdMeter",{attrs:{pwd:e.sync_password}})],1)])},Xe=[],et={render:Qe,staticRenderFns:Xe},tt=et,st=s("VU/8"),rt=p,at=st(Ke,tt,!1,rt,"data-v-5f860bc2",null),ot=at.exports,nt={name:"socialLogin",mixins:[ue],data:function(){return{}}},it=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mdl-card__supporting-text"},[s("button",{staticClass:"mdl-button mdl-js-button mdl-button--icon social-btn__facebook",on:{click:function(t){e.authenticate("facebook")}}},[s("i",{staticClass:"fa fa-facebook fa-fw"})]),e._v(" "),s("button",{staticClass:"mdl-button mdl-js-button mdl-button--icon social-btn__twitter",on:{click:function(t){e.authenticate("twitter")}}},[s("i",{staticClass:"fa fa-twitter fa-fw"})]),e._v(" "),s("button",{staticClass:"mdl-button mdl-js-button mdl-button--icon social-btn__google",on:{click:function(t){e.authenticate("google")}}},[s("i",{staticClass:"fa fa-google fa-fw"})])])},lt=[],dt={render:it,staticRenderFns:lt},ut=dt,ct=s("VU/8"),mt=f,pt=ct(nt,ut,!1,mt,"data-v-037fd85a",null),ft=pt.exports,_t={props:{errors:Array},name:"errorMessages"},vt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.errors&&e.errors.length?s("ul",{staticClass:"errorList"},e._l(e.errors,function(t){return s("li",[e._v("\n    "+e._s(e.$t(t.message))+"\n  ")])})):e._e()},ht=[],gt={render:vt,staticRenderFns:ht},wt=gt,bt=s("VU/8"),Pt=_,Ct=bt(_t,wt,!1,Pt,null,null),xt=Ct.exports,yt={name:"cardfabtitle",props:{userTitle:{default:"user.Login",type:String}}},kt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._m(0),e._v(" "),s("div",{staticClass:"mdl-card__title"},[s("h2",{staticClass:"card__title mdl-card__title-text"},[e._v("\n      "+e._s(e.$t(e.userTitle))+"\n    ")])])])},$t=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mdl-color--accent mdl-color-text--white",attrs:{id:"fab"}},[s("img",{attrs:{id:"icon",src:"/static/img/icons/android-chrome-512x512.png",width:"45"}})])}],Tt={render:kt,staticRenderFns:$t},St=Tt,Ut=s("VU/8"),Ft=v,Et=Ut(yt,St,!1,Ft,"data-v-5d494f42",null),Nt=Et.exports;s("Wiqq");var jt={name:"signInDetails",extends:F,mixins:[ue],components:{userFields:ot,socialLogin:ft,cardFabTitle:Nt,errorMessages:xt},data:function(){return{user:{email:"",password:""},errors:[]}},methods:{tryLogin:function(e){var t=this;t.errors=[],t.user.password.length<6&&t.errors.push({message:"password.Ensure_this_field_has_at_least_6_characters"}),t.errors.length<1&&t.login(t,t.user)}}},Rt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mdl-card mdl-shadow--16dp",attrs:{id:"form-container"}},[s("div",{staticClass:"mdl-card__supporting-text"},[s("cardFabTitle",{attrs:{userTitle:"Page.SignIn"}}),e._v(" "),s("userFields",{attrs:{email:e.user.email,password:e.user.password,userTitle:"user.Login"},on:{"update:email":function(t){e.$set(e.user,"email",t)},"update:password":function(t){e.$set(e.user,"password",t)},enterKeyUp:e.tryLogin}}),e._v(" "),s("socialLogin"),e._v(" "),s("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored mdl-color-text--white",attrs:{id:"main-button"},on:{click:e.tryLogin}},[e._v("\n      "+e._s(e.$t("user.Login"))+"\n    ")]),e._v(" "),s("errorMessages",{attrs:{errors:e.errors}})],1),e._v(" "),s("div",{staticClass:"mdl-card__actions"},[s("router-link",{staticClass:"mdl-button mdl-button--primary",attrs:{id:"secondary-button",to:"/signup"}},[e._v("\n      "+e._s(e.$t("user.SignUp"))+"\n    ")]),e._v(" "),s("router-link",{staticClass:"mdl-button mdl-button--primary",attrs:{id:"third-button",to:"/forgotpassword"}},[e._v("\n      "+e._s(e.$t("user.ForgotPassword"))+"\n    ")])],1)])},It=[],Dt={render:Rt,staticRenderFns:It},At=Dt,Lt=s("VU/8"),Mt=h,qt=Lt(jt,At,!1,Mt,"data-v-a734960e",null),Vt=qt.exports,Ot=function(){function e(){}return e.fileToBase64=function(e,t){if(e.type.match("image.*")){var s=new FileReader;s.readAsDataURL(e),s.onloadend=function(e){t(e.target.result)}}},e.resizeImageBase64=function(t,s,r,a){e.fileToBase64(t,function(e){if(e){var t=new Image;t.src=e,t.onload=function(){var o=s,n=r,i=t.naturalWidth||t.width,l=t.naturalHeight||t.height,d=!1;if(i>l?i>o&&(l*=o/i,i=o,d=!0):l>n&&(i*=n/l,l=n,d=!0),d){var u=document.createElement("canvas");u.width=i,u.height=l;u.getContext("2d").drawImage(t,0,0,i,l),a(u.toDataURL("image/png"))}else a(e)}}})},e}(),zt=Ot,Ht=function(){function e(){this.files=[]}return e.getFilesOnDrop=function(t,s){var r=e._getTransfer(t);r&&(e._preventAndStop(t),e._haveFiles(r.types)&&s(r.files))},e._getTransfer=function(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer},e._preventAndStop=function(e){e.preventDefault(),e.stopPropagation()},e._haveFiles=function(e){return!!e&&(e.indexOf?-1!==e.indexOf("Files"):!!e.contains&&e.contains("Files"))},e}(),Yt=Ht,Wt={name:"profileDetails",props:{user:Object,updateNeeded:void 0,errors:Array},components:{errorMessages:xt},methods:{updatePreview:function(e){var t=this;return void 0!==e&&("change"===e.type&&(e=t.$refs.fileInput.files[0]),e.type.match("image.*")&&zt.resizeImageBase64(e,300,300,function(e){e?(t.user.avatar_image=e,t.message=""):console.log("updatePreview error",e)})),!0},askForAnImage:function(e){var t=this;return e.stopPropagation(),t.$refs.fileInput.click()},onDrop:function(e){var t=this;return Yt.getFilesOnDrop(e,function(e){e&&t.updatePreview(e[0])}),!0},onDragOver:function(e){return!0}}},Bt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-content"},[s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:{"is-dirty":!!e.user.email}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.email,expression:"user.email",modifiers:{trim:!0}}],staticClass:"mdl-textfield__input",attrs:{type:"text",id:"email",readonly:!!e.user.email,required:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"mdl-textfield__label",attrs:{for:"email"}},[e._v(e._s(e.$t("user.Email")))])]),e._v(" "),s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:{"is-dirty":!!e.user.first_name}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.first_name,expression:"user.first_name",modifiers:{trim:!0}}],staticClass:"mdl-textfield__input",attrs:{type:"text",id:"first_name"},domProps:{value:e.user.first_name},on:{input:function(t){t.target.composing||e.$set(e.user,"first_name",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"mdl-textfield__label",attrs:{for:"first_name"}},[e._v(e._s(e.$t("user.First_name")))])]),e._v(" "),s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:{"is-dirty":!!e.user.last_name}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.last_name,expression:"user.last_name",modifiers:{trim:!0}}],staticClass:"mdl-textfield__input",attrs:{type:"text",id:"last_name"},domProps:{value:e.user.last_name},on:{input:function(t){t.target.composing||e.$set(e.user,"last_name",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"mdl-textfield__label",attrs:{for:"last_name"}},[e._v(e._s(e.$t("user.Last_name")))])]),e._v(" "),s("div",{staticClass:"link",on:{click:e.askForAnImage,dragover:function(t){return t.preventDefault(),e.onDragOver(t)},drop:function(t){return t.preventDefault(),e.onDrop(t)}}},[s("img",{attrs:{id:"profilePreview",src:e.user.avatar_image}}),e._v(" "),s("input",{ref:"fileInput",attrs:{hidden:"hidden",type:"file",id:"fileInput",accept:"image/*"},on:{change:function(t){return t.preventDefault(),e.updatePreview(t)}}}),e._v(" "),s("p",{staticClass:"center-align"},[e._v(e._s(e.$t("SignUp.ClickOrDropToUpdateYourProfilePicture")))])]),e._v(" "),s("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored mdl-color-text--white",class:{pulse:e.updateNeeded},attrs:{id:"main-button"},on:{click:function(t){t.preventDefault(),e.$emit("tryUpdate")}}},[e._v("\n    "+e._s(e.$t("user.Update"))+"\n  ")]),e._v(" "),s("errorMessages",{attrs:{errors:e.errors}})],1)},Jt=[],Gt={render:Bt,staticRenderFns:Jt},Zt=Gt,Kt=s("VU/8"),Qt=g,Xt=Kt(Wt,Zt,!1,Qt,"data-v-7f230dae",null),es=Xt.exports,ts={name:"profileDetails",mixins:[ue],data:function(){return{password:"",newPassword:"",confirmPassword:"",errors:[]}},components:{pwdMeter:Ze,errorMessages:xt},methods:{tryUpdatePassword:function(e){var t=this;if(t.errors=[],e.preventDefault(),t.password.length<6&&t.errors.push({message:"newPassword.PleaseInputYourFormerPassword"}),t.newPassword.length<6&&t.errors.push({message:"newPassword.Ensure_this_field_has_at_least_6_characters"}),t.newPassword===t.password&&t.errors.push({message:"newPassword.NewPasswordSimilarToFormerOne"}),t.newPassword!==t.confirmPassword&&t.errors.push({message:"SignUp.ConfirmedPasswordIncorrect"}),t.errors.length<1){var s={email:t.$root.user.email,password:t.password,newPassword:t.newPassword,confirmPassword:t.confirmPassword,language:t.$i18n.locale};t.$root.loading=!0,de.a.post("/upwd",s,t.authHeader()).then(function(e){t.$root.loading=!1,t.errors=[],e.data.state&&1===e.data.state?(t.password="",t.newPassword="",t.confirmPassword="",t.$root.showSnackbar(t.$i18n.t(e.data.message))):t.errors.push({message:e.data.message})}).catch(function(e){t.$root.loading=!1,console.log(e),t.state=0,t.errors=[],t.errors.push(e)}).then(function(){t.$root.loading=!1})}}},mounted:function(){this.$refs.password.focus()}},ss=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-content"},[s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:{"is-dirty":!!e.password}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],ref:"password",staticClass:"mdl-textfield__input",attrs:{type:"password",id:"password",required:"",autofocus:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"mdl-textfield__label",attrs:{for:"password"}},[e._v(e._s(e.$t("user.Password")))]),e._v(" "),s("pwdMeter",{attrs:{pwd:e.password}})],1),e._v(" "),s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:{"is-dirty":!!e.newPassword}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.newPassword,expression:"newPassword",modifiers:{trim:!0}}],staticClass:"mdl-textfield__input",attrs:{type:"password",id:"newPassword",required:""},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"mdl-textfield__label",attrs:{for:"password"}},[e._v(e._s(e.$t("user.NewPassword")))]),e._v(" "),s("pwdMeter",{attrs:{pwd:e.newPassword}})],1),e._v(" "),s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:{"is-dirty":!!e.confirmPassword}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.confirmPassword,expression:"confirmPassword",modifiers:{trim:!0}}],staticClass:"mdl-textfield__input",attrs:{type:"password",id:"passwordConfirm",required:""},domProps:{value:e.confirmPassword},on:{input:function(t){t.target.composing||(e.confirmPassword=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"mdl-textfield__label",attrs:{for:"passwordConfirm"}},[e._v(e._s(e.$t("user.ConfirmNewPassword")))]),e._v(" "),s("pwdMeter",{attrs:{pwd:e.confirmPassword}})],1),e._v(" "),s("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored mdl-color-text--white",attrs:{id:"main-button"},on:{click:function(t){return t.preventDefault(),e.tryUpdatePassword(t)}}},[e._v("\n    "+e._s(e.$t("user.UpdatePassword"))+"\n  ")]),e._v(" "),s("errorMessages",{attrs:{errors:e.errors}})],1)},rs=[],as={render:ss,staticRenderFns:rs},os=as,ns=s("VU/8"),is=w,ls=ns(ts,os,!1,is,"data-v-66b1032c",null),ds=ls.exports,us=JSON.parse(window.localStorage.getItem("auth-user")),cs={name:"Profile",extends:F,mixins:[ue],components:{cardFabTitle:Nt,profileDetails:es,profilePwdUpdate:ds,errorMessages:xt},data:function(){return{tabs:[{id:"0",Title:"TabUser",icon:"person"},{id:"1",Title:"TabMore",icon:"loyalty"},{id:"2",Title:"TabPassword",icon:"verified_user"},{id:"3",Title:"TabDelete",icon:"delete"}],tabActive:"0",message:"",errors:[],updateNeeded:"noNeed",loaded:!1}},computed:{user:function(){return this.$root.user}},created:function(e){us&&(this.updateNeeded="noNeed",this.$root.user=us,this.updateNeeded=!1),this.$nextTick(function(){this.updateNeeded=!1}),this.tryGetUserInfo(e)},watch:{user:{handler:function(){"noNeed"!==this.updateNeeded&&(this.updateNeeded=!0)},deep:!0}},methods:{tryGetUserInfo:function(e){var t=this;t.errors=[],t.$root.loading=!0,de.a.get("/api/guser/",t.authHeader()).then(function(e){t.$root.loading=!1,e.data.user?(t.authStoreUser(e.data.user,t),e.data.user&&(t.$root.user=e.data.user,t.updateNeeded=!1)):(t.errors=[],t.errors.push({message:e.data.message}))}).catch(function(e){console.log(e),t.$root.loading=!1,t.updateNeeded=!1,t.state=0,t.errors=[],t.errors.push(e)}).then(function(){t.$root.loading=!1,t.updateNeeded=!1})},tryUpdate:function(e){var t=this;if(t.errors=[],t.$root.authenticated){var s=t.user;t.$root.loading=!0,de.a.put("/api/uuser/",s,t.authHeader()).then(function(e){t.$root.loading=!1,t.updateNeeded=!1,e.data.user?(t.authSuccess(e.data.user,t,!1),t.$root.showSnackbar(t.$i18n.t("user.UpdateConfirmed"))):(t.errors=[],t.errors.push({message:e.data.message}))}).catch(function(e){console.log(e),t.$root.loading=!1,t.updateNeeded=!1,t.state=0,t.errors=[],t.errors.push(e)}).then(function(){t.$root.loading=!1,t.updateNeeded=!1})}else t.$router.push({name:"Sign in"})},tryDelete:function(e){var t=this;if(t.errors=[],t.$root.authenticated){var s=t.$refs.dialog;dialogPolyfill.registerDialog(s),s.showModal()}else t.$router.push({name:"Sign in"})},closeConfirmDialog:function(e){var t=this,s=t.$refs.dialog;s&&(dialogPolyfill.registerDialog(s),s.close())},tryDeleteConfirmed:function(e){var t=this,s=t.user;t.$root.loading=!0,de.a.delete("/api/duser/"+s.username,t.authHeader()).then(function(e){if(t.$root.loading=!1,e.data.email){t.errors=[];var s={message:t.$i18n.t("user.ConfirmedDeletion",{email:e.data.email}),timeout:1e4};t.$root.showSnackbar(s),t.$router.push({name:"Sign up"})}}).catch(function(e){console.log(e),t.$root.loading=!1,t.state=0,t.errors=[],t.errors.push(e),t.closeConfirmDialog(e)}).then(function(){t.$root.loading=!1,t.closeConfirmDialog(!0)})}}},ms=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mdl-card mdl-shadow--16dp",attrs:{id:"container"}},[s("dialog",{ref:"dialog",staticClass:"mdl-dialog"},[s("div",{staticClass:"mdl-dialog__content"},[s("p",[e._v("\n        "+e._s(e.$t("user.ConfirmDeletionQuestion"))+"\n      ")])]),e._v(" "),s("div",{staticClass:"mdl-dialog__actions"},[s("button",{staticClass:"mdl-button close",attrs:{type:"button",id:"CancelDialog"},on:{click:function(t){e.closeConfirmDialog(!0)}}},[e._v("\n        Disagree\n      ")]),e._v(" "),s("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent mdl-color-text--white",attrs:{type:"button",id:"OkDialog"},on:{click:e.tryDeleteConfirmed}},[e._v("Agree\n      ")])])]),e._v(" "),s("div",{staticClass:"mdl-card__supporting-text"},[s("cardFabTitle",{attrs:{userTitle:"Page.Profile"}}),e._v(" "),s("div",{staticClass:"mdl-tabs mdl-js-tabs mdl-js-ripple-effect is-upgraded"},[s("div",{staticClass:"mdl-tabs__tab-bar"},e._l(e.tabs,function(t){return s("div",{staticClass:"mdl-tabs__tab link",class:{"is-active":t.id===e.tabActive},attrs:{href:t.id,id:"profile_tab_"+t.id},on:{click:function(s){e.tabActive=t.id}}},[s("i",{staticClass:"material-icons"},[e._v("\n            "+e._s(t.icon)+"\n          ")]),s("span",[e._v(e._s(e.$t("user."+t.Title)))])])})),e._v(" "),"0"===e.tabActive?s("div",{staticClass:"mdl-tabs__panel is-active",attrs:{id:"0"}},[s("profileDetails",{attrs:{user:e.user,errors:e.errors,updateNeeded:e.updateNeeded},on:{tryUpdate:e.tryUpdate}})],1):e._e()]),e._v(" "),"1"===e.tabActive?s("div",{staticClass:"mdl-tabs__panel is-active",attrs:{id:"1"}},[s("div",{staticClass:"page-content"},[e._v("More")])]):e._e(),e._v(" "),"2"===e.tabActive?s("div",{staticClass:"mdl-tabs__panel is-active",attrs:{id:"2"}},[s("profilePwdUpdate")],1):e._e(),e._v(" "),"3"===e.tabActive?s("div",{staticClass:"mdl-tabs__panel is-active",attrs:{id:"3"}},[s("div",{staticClass:"page-content"},[s("p",{staticClass:"center-align"},[e._v(e._s(e.$t("user.BeforeDeleteMessage")))]),e._v(" "),s("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent mdl-color-text--white",attrs:{id:"secondary-button"},on:{click:function(t){return t.preventDefault(),e.tryDelete(t)}}},[e._v("\n          "+e._s(e.$t("user.Delete"))+"\n        ")])])]):e._e()],1)])},ps=[],fs={render:ms,staticRenderFns:ps},_s=fs,vs=s("VU/8"),hs=b,gs=vs(cs,_s,!1,hs,"data-v-25912aa2",null),ws=gs.exports;s("Wiqq");var bs={name:"home",components:{signIn:Vt,profile:ws}},Ps=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.$root.authenticated?e._e():s("signIn"),e._v(" "),e.$root.authenticated?s("profile"):e._e()],1)},Cs=[],xs={render:Ps,staticRenderFns:Cs},ys=xs,ks=s("VU/8"),$s=ks(bs,ys,!1,null,null,null),Ts=$s.exports,Ss=function(e){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e)},Us={name:"signUp",extends:F,mixins:[ue],components:{userFields:ot,cardFabTitle:Nt,errorMessages:xt,pwdMeter:Ze},data:function(){return{image:"/static/img/icons/apple-touch-icon-76x76.png",user:{email:"",password:"",confirmPassword:""},errors:[]}},methods:{tryRegister:function(e){var t=this;t.errors=[],e.preventDefault();var s=this.user;if(s.email&&Ss(s.email)||t.errors.push({message:"SignUp.EnterACorrectEmailAddress"}),s.password.length<6&&t.errors.push({message:"password.Ensure_this_field_has_at_least_6_characters"}),s.password!==s.confirmPassword&&t.errors.push({message:"SignUp.ConfirmedPasswordIncorrect"}),t.errors.length<1){var r={username:t.user.email,email:t.user.email,password:t.user.password};t.$root.loading=!0,t.$auth.register(r).then(function(e){if(t.errors=[],t.$root.loading=!1,e.data.token)t.authSuccess({email:e.data.email,first_name:e.data.first_name||"",last_name:e.data.last_name||"",username:e.data.username,avatar_image:e.data.avatar_image},t,e.data.token);else for(var s in e.data)for(var r in e.data[s])t.errors.push({message:s+"."+e.data[s][r].replace(/ /g,"_").replace(/\./g,"")})}).catch(function(e){console.log("catch error in register",e),t.$root.loading=!1,t.errors=[],t.errors.push(e)})}}}},Fs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mdl-card mdl-shadow--16dp",attrs:{id:"form-container"}},[s("div",{staticClass:"mdl-card__supporting-text"},[s("cardFabTitle",{attrs:{userTitle:"Page.SignUp"}}),e._v(" "),s("userFields",{attrs:{email:e.user.email,password:e.user.password},on:{"update:email":function(t){e.$set(e.user,"email",t)},"update:password":function(t){e.$set(e.user,"password",t)}}}),e._v(" "),s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label",class:{"is-dirty":!!e.user.confirmPassword}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.confirmPassword,expression:"user.confirmPassword",modifiers:{trim:!0}}],staticClass:"mdl-textfield__input",attrs:{type:"password",id:"passwordConfirm",required:""},domProps:{value:e.user.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmPassword",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"mdl-textfield__label",attrs:{for:"passwordConfirm"}},[e._v(e._s(e.$t("SignUp.ConfirmPassword")))]),e._v(" "),s("pwdMeter",{attrs:{pwd:e.user.confirmPassword}})],1),e._v(" "),s("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored mdl-color-text--white",attrs:{id:"main-button"},on:{click:e.tryRegister}},[e._v("\n      "+e._s(e.$t("SignUp.Register"))+"\n    ")]),e._v(" "),s("errorMessages",{attrs:{errors:e.errors}})],1),e._v(" "),s("div",{staticClass:"mdl-card__actions"},[s("router-link",{staticClass:"mdl-button mdl-button--primary",attrs:{id:"secondary-button",to:"/signin"}},[e._v("\n      "+e._s(e.$t("Nav.SignIn"))+"\n    ")]),e._v(" "),s("router-link",{staticClass:"mdl-button mdl-button--primary",attrs:{id:"third-button",to:"/forgotpassword"}},[e._v("\n      "+e._s(e.$t("user.ForgotPassword"))+"\n    ")])],1)])},Es=[],Ns={render:Fs,staticRenderFns:Es},js=Ns,Rs=s("VU/8"),Is=P,Ds=Rs(Us,js,!1,Is,"data-v-930b58f2",null),As=Ds.exports,Ls={name:"Forgot-password",extends:F,components:{cardFabTitle:Nt,errorMessages:xt},data:function(){return{user:{email:""},state:0,errors:[]}},methods:{startAgain:function(e){this.state=0,window.setTimeout(function(){F.mounted()},500)},stepForgotPassword:function(e){this.sendForgotPassword(e)},stepResetPassword:function(e){this.$router.push({name:"ResetPassword"})},sendForgotPassword:function(e){var t=this;t.errors=[],e.preventDefault(),t.user.email&&Ss(t.user.email)||t.errors.push({message:"SignUp.EnterACorrectEmailAddress"}),t.errors.length<1&&(t.$root.loading=!0,de.a.post("/fpwd",{email:t.user.email,language:t.$i18n.locale}).then(function(e){t.$root.loading=!1,t.state=1}).catch(function(e){t.$root.loading=!1,console.log(e),t.state=0,t.errors=[],t.errors.push(e)}).then(function(){t.$root.loading=!1}))}}},Ms=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mdl-card mdl-shadow--16dp",attrs:{id:"form-container"}},[s("div",{staticClass:"mdl-card__supporting-text"},[s("cardFabTitle",{attrs:{userTitle:"Page.ForgotPassword"}}),e._v(" "),0==e.state?s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[e._v("\n      "+e._s(e.$t("ForgotPassword.state0.Text"))+"\n    ")]):e._e(),e._v(" "),1==e.state?s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[e._v("\n       "+e._s(e.$t("ForgotPassword.state1.Text1",{email:e.user.email}))+"\n      "),s("br"),s("br"),e._v(" "),s("i18n",{staticClass:"smaller",attrs:{path:"ForgotPassword.state1.Text2",tag:"span"}},[s("strong",[e._v(e._s(e.$t("emails.forgotPassword.headTitle")))])]),e._v(" "),s("span",{staticClass:"smaller"},[e._v(e._s(e.$t("ForgotPassword.state1.Text3"))+"\n        "),s("a",{staticClass:"link",on:{click:e.startAgain}},[e._v(e._s(e.$t("ForgotPassword.state1.Text3link")))]),e._v(".\n      ")])],1):e._e(),e._v(" "),0==e.state?s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.email,expression:"user.email",modifiers:{trim:!0}}],staticClass:"mdl-textfield__input",attrs:{type:"email",id:"email",required:""},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"mdl-textfield__label",attrs:{for:"email"}},[e._v(e._s(e.$t("user.Email")))])]):e._e(),e._v(" "),0==e.state?s("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored mdl-color-text--white",attrs:{id:"main-button"},on:{click:e.stepForgotPassword}},[s("span",[e._v(e._s(e.$t("ForgotPassword.Send_password_reset_email")))])]):e._e(),e._v(" "),s("errorMessages",{attrs:{errors:e.errors}})],1),e._v(" "),s("div",{staticClass:"mdl-card__actions"},[s("router-link",{staticClass:"mdl-button mdl-button--primary",class:{"mdl-button--raised":1==e.state},attrs:{id:"fourth-button",to:"/resetpassword"}},[e._v("\n      "+e._s(e.$t("ForgotPassword.Go_to_reset_password"))+"\n    ")])],1),e._v(" "),s("div",{staticClass:"mdl-card__actions"},[s("router-link",{staticClass:"mdl-button mdl-button--primary",attrs:{id:"third-button",to:"/signin"}},[e._v("\n      "+e._s(e.$t("user.SignIn"))+"\n    ")]),e._v(" "),s("router-link",{staticClass:"mdl-button mdl-button--primary",attrs:{id:"secondary-button",to:"/signup"}},[e._v("\n      "+e._s(e.$t("user.SignUp"))+"\n    ")])],1)])},qs=[],Vs={render:Ms,staticRenderFns:qs},Os=Vs,zs=s("VU/8"),Hs=C,Ys=zs(Ls,Os,!1,Hs,"data-v-881c50f4",null),Ws=Ys.exports,Bs={name:"Reset-password",extends:F,mixins:[ue],components:{userFields:ot,cardFabTitle:Nt,errorMessages:xt,pwdMeter:Ze},data:function(){return{user:{email:"",password:"",confirmPassword:"",resetPasswordToken:this.$route.params.resetPasswordToken?this.$route.params.resetPasswordToken:""},state:0,errors:[]}},methods:{updatePassword:function(e){var t=this;t.errors=[],e.preventDefault();var s=t.user;s.email&&Ss(s.email)||t.errors.push({message:"SignUp.EnterACorrectEmailAddress"}),s.password.length<6&&t.errors.push({message:"password.Ensure_this_field_has_at_least_6_characters"}),s.password!==s.confirmPassword&&t.errors.push({message:"SignUp.ConfirmedPasswordIncorrect"}),s.resetPasswordToken.length<30&&t.errors.push({message:"ResetPassword.TokenIncorrect"}),t.errors.length<1&&(t.user.language=t.$i18n.locale,t.$root.loading=!0,de.a.post("/rpwd",t.user).then(function(e){t.$root.loading=!1,console.log(e),1===e.data.state?(t.state=1,t.login(t,t.user)):(t.$root.loading=!1,t.errors=[],t.errors.push({message:e.data.message}))}).catch(function(e){t.$root.loading=!1,console.log(e),t.state=0,t.errors=[],t.errors.push(e)}).then(function(){t.$root.loading=!1}))}}},Js=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mdl-card mdl-shadow--16dp",attrs:{id:"form-container"}},[s("div",{staticClass:"mdl-card__supporting-text"},[s("cardFabTitle",{attrs:{userTitle:"Page.ResetPassword"}}),e._v(" "),s("userFields",{attrs:{email:e.user.email,password:e.user.password},on:{"update:email":function(t){e.$set(e.user,"email",t)},"update:password":function(t){e.$set(e.user,"password",t)}}}),e._v(" "),s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.confirmPassword,expression:"user.confirmPassword",modifiers:{trim:!0}}],staticClass:"mdl-textfield__input",attrs:{type:"password",id:"passwordConfirm",required:""},domProps:{value:e.user.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmPassword",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"mdl-textfield__label",attrs:{for:"passwordConfirm"}},[e._v(e._s(e.$t("SignUp.ConfirmPassword")))]),e._v(" "),s("pwdMeter",{attrs:{pwd:e.user.confirmPassword}})],1),e._v(" "),s("div",{staticClass:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.resetPasswordToken,expression:"user.resetPasswordToken",modifiers:{trim:!0}}],staticClass:"mdl-textfield__input",attrs:{type:"text",id:"resetpasswordtoken",required:""},domProps:{value:e.user.resetPasswordToken},on:{input:function(t){t.target.composing||e.$set(e.user,"resetPasswordToken",t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),s("label",{staticClass:"mdl-textfield__label",attrs:{for:"resetpasswordtoken"}},[e._v(e._s(e.$t("user.ResetPasswordToken")))])]),e._v(" "),s("button",{staticClass:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored mdl-color-text--white",attrs:{id:"main-button"},on:{click:e.updatePassword}},[e._v("\n      "+e._s(e.$t("ResetPassword.Update_Password"))+"\n    ")]),e._v(" "),s("errorMessages",{attrs:{errors:e.errors}})],1),e._v(" "),s("div",{staticClass:"mdl-card__actions"},[s("router-link",{staticClass:"mdl-button mdl-button--primary",attrs:{id:"third-button",to:"/signin"}},[e._v("\n      "+e._s(e.$t("user.SignIn"))+"\n    ")]),e._v(" "),s("router-link",{staticClass:"mdl-button mdl-button--primary",attrs:{id:"secondary-button",to:"/signup"}},[e._v("\n      "+e._s(e.$t("user.SignUp"))+"\n    ")]),e._v(" "),s("router-link",{staticClass:"mdl-button mdl-button--primary",attrs:{id:"fourth-button",to:"/forgotpassword"}},[e._v("\n      "+e._s(e.$t("user.ForgotPassword"))+"\n    ")])],1)])},Gs=[],Zs={render:Js,staticRenderFns:Gs},Ks=Zs,Qs=s("VU/8"),Xs=x,er=Qs(Bs,Ks,!1,Xs,"data-v-c0e1723e",null),tr=er.exports,sr={name:"chat",data:function(){return{msg:"Welcome to Your Vue.js PWA"}}},rr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chat"},[s("h1",[e._v("Chat with "+e._s(e.$route.params.id))]),e._v(" "),s("ul",[s("li",[e._v(e._s(e.msg))])])])},ar=[],or={render:rr,staticRenderFns:ar},nr=or,ir=s("VU/8"),lr=y,dr=ir(sr,nr,!1,lr,"data-v-e2ad8ce4",null),ur=dr.exports,cr={name:"chatroom-item",props:["chatroom"]},mr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"chatroom-item"},[s("router-link",{staticClass:"mdl-navigation__link",attrs:{to:"/chat/"+e.chatroom.msg}},[e._v("Start a chat")])],1)},pr=[],fr={render:mr,staticRenderFns:pr},_r=fr,vr=s("VU/8"),hr=vr(cr,_r,!1,null,null,null),gr=hr.exports,wr={name:"chatrooms",components:{ChatroomItem:gr},data:function(){return{chatrooms:[{msg:"1"},{msg:"2"},{msg:"3"}]}}},br=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chatrooms"},[s("h1",[e._v("Chat with")]),e._v(" "),s("ul",e._l(e.chatrooms,function(e){return s("chatroom-item",{key:e.id,attrs:{chatroom:e}})}))])},Pr=[],Cr={render:br,staticRenderFns:Pr},xr=Cr,yr=s("VU/8"),kr=k,$r=yr(wr,xr,!1,kr,"data-v-759e4118",null),Tr=$r.exports;$.a.use(Me.a);var Sr=new Me.a({routes:[{path:"/",name:"Home",component:Ts},{path:"/signin",name:"Sign in",component:Vt},{path:"/signup",name:"Sign up",component:As},{path:"/profile",name:"Profile",component:ws,beforeEnter:function(e,t,s){ue.methods.checkToken("all",s)}},{path:"/forgotpassword",name:"Forgotpassword",component:Ws},{path:"/resetpassword/:resetPasswordToken?",name:"ResetPassword",component:tr},{path:"/chat/:id",name:"Chat",component:ur,beforeEnter:function(e,t,s){ue.methods.checkToken("all",s)}},{path:"/chatrooms",name:"Chatrooms",component:Tr,beforeEnter:function(e,t,s){ue.methods.checkToken("all",s)}}]}),Ur=s("WrNK"),Fr=s("Rf8U"),Er=s.n(Fr);"https:"!==location.protocol&&-1===window.location.href.search("localhost")&&(location.href="https:"+window.location.href.substring(window.location.protocol.length));var Nr=window.location.protocol+"//"+window.location.hostname+(""!==window.location.port?":"+window.location.port:"")+"/";$.a.config.productionTip=!0,$.a.use(Er.a,de.a),$.a.use(Ur.a,{baseUrl:Nr,tokenType:"JWT",providers:{google:{clientId:"338829541691-14vtulpp1bav75s243cr6cfo0dvojkjl.apps.googleusercontent.com",redirectUri:Nr,url:Nr+"api/login/social/token_user/google/"},twitter:{clientId:"nF5AOvrq4l8FmvjeRgEPpk6ID",redirectUri:Nr,url:Nr+"api/login/social/token_user/twitter/"},facebook:{clientId:"585737338256884",redirectUri:Nr,url:Nr+"api/login/social/token_user/facebook/"}}});var jr={email:!1,avatar_image:"/static/img/icons/apple-touch-icon-76x76.png",last_name:!1,first_name:!1,username:!1,social_info:!1};new $.a({i18n:Z,el:"#app",router:Sr,template:'<App ref="App" v-bind:message="message" v-bind:searchAvailable="searchAvailable"v-bind:errors="errors"/>',components:{App:Ue},data:function(){return{loading:!1,user:jr,message:"",timeout:2750,actionHandler:!1,actionText:!1,errors:[],searchAvailable:!1}},computed:{authenticated:function(){return this.user.username&&""!==this.user.username}},methods:{setUnauthenticated:function(){this.user=jr},setSearch:function(e){this.searchAvailable=!!e},showSnackbar:function(e){"string"==typeof e?this.message=e:(this.message=e.message,this.timeout=e.timeout,this.actionHandler=e.actionHandler,this.actionText=e.actionText),this.$nextTick(function(){this.$refs.App.showSnackbar(),this.message="",this.timeout=2750,this.actionHandler=!1,this.actionText=!1})}}}),new $.a({el:"#cookies-accept",template:'<Cookies-accept ref="Cookies-accept"/>',components:{CookiesAccept:Le},data:function(){return{loading:!1,message:"",errors:[],searchAvailable:!1}}})},OP8t:function(e,t){},OudP:function(e,t){},PJLj:function(e,t){},PsRy:function(e,t){},TYGh:function(e,t){e.exports={Page:{Home:"Accueil",SignIn:"Connexion",SignUp:"Inscription",Profile:"Profil",ForgotPassword:"Mot de passe oubliÃ©",ResetPassword:"Modification du mot de passe",Chat:"Discussion",Chatrooms:"Discussions"},Nav:{Home:"Accueil",SignIn:"Connexion",SignUp:"Inscription",StartAChat:"Discussions",YourProfile:"Compte",Chatrooms:"Discussions",Logout:"DÃ©connexion"},language:{fr:"Francais",en:"English",Choice:"Langue"},user:{TabUser:"Informations",TabMore:"PrÃ©fÃ©rences",TabPassword:"SÃ©curitÃ©",TabDelete:"Suppression",Email:"Courriel",Password:"Mot de passe",NewPassword:"Nouveau mot de passe",ConfirmNewPassword:"Confirmer le nouveau mot de passe",First_name:"PrÃ©nom",Last_name:"Nom",Login:"Se connecter",SignUp:"Inscription",SignIn:"Connexion",Register:"S'inscrire",ForgotPassword:"Mot de passe oubliÃ©",ResetPasswordToken:"Jeton de sÃ©curitÃ©",Logout:"DÃ©connexion",nonConnected:"utilisateur non connectÃ©",Update:"Mettre Ã  jour",UpdateConfirmed:"Mis Ã  jour rÃ©ussi",UpdatePassword:"Mettre Ã  jour le mot de passe",Wrong_former_password:"Mot de passe actuel incorrect.",Your_not_authenticated:"Vous n'Ãªtes pas authentifiÃ©.",New_password_not_correctly_confirmed_or_too_short:"Votre nouveau mot de passe est trop court ou mal confirmÃ©.",Password_updated:"Votre mot de passe a Ã©tÃ© mis Ã  jour.",Delete:"Suppression",ConfirmDeletionQuestion:"ÃŠtes vous sÃ»r de vouloir supprimer votre profil?",ConfirmedDeletion:"You have deleted the user profile for {email}",BeforeDeleteMessage:"Vous pouvez supprimer votre profil en cliquant sur le bouton suivant. Cette action est irrÃ©verssible."},SignUp:{ConfirmPassword:"Confirmer le mot de passe",ClickOrDropToUpdateYourProfilePicture:"Vous pouvez cliquer ou dropper une image pour mettre Ã  jour votre image de profil.",SignInIfYouHaveAnAccount:"Vous avez dÃ©jÃ  un compte?",EnterACorrectEmailAddress:"Veuillez saisir un courriel valide.",ConfirmedPasswordIncorrect:"Les 2 mots de passe sont diffÃ©rents.",Register:"S'inscrire"},SignIn:{No_user_for_the_given_email_and_password:"Il n'y a pas d'utilisateur pour le courriel et le mot de passe fournit. Veuillez essayer Ã  nouveau.",User_has_been_deactivated:"L'utilisateur de votre connexion a Ã©tÃ© dÃ©sactivÃ©. Veuillez contacter le support si vous ne savez pas pourquoi."},ForgotPassword:{Send_password_reset_email:"Envoyer",state0:{Text:"Nous vous transmettrons les informations nÃ©cessaires pour rÃ©initialiser votre mot de passe."},state1:{Text1:"Nous avons envoyer un courriel Ã  {email} avec les informations nÃ©cessaires Ã  la mise Ã  jour du mot de passe.",emailTitle:"Reset password on PokerFace",Text2:"Vous n'avez pas reÃ§u le courriel? VÃ©rifiez dans votre rÃ©pertoire de spams/indÃ©sirables Ã  la recherche d'un courriel ayant pour sujet : {0}.",Text3:"Si vous ne voyez toujours pas le courriel ",Text3link:"rÃ©essayez"},Go_to_reset_password:"Saisie du nouveau mot de passe"},ResetPassword:{Update_Password:"Mettre Ã  jour",no_user_found_for_this_email:"Aucun compte utilisateur ne correspond aux critÃ¨res fournis.",TokenIncorrect:"Jeton de sÃ©curitÃ© incorrect.",Security_token_no_more_valid:"Le jeton de sÃ©curitÃ© n'est plus valide,veuillez en demander un nouveau.",Security_token_invalid:"Jeton de sÃ©curitÃ© invalide."},emails:{forgotPassword:{headTitle:"Reinitialisation de mot de passe PokerFace",head01TextOnly:"Utilisez ce courriel pour reinitialiser votre mot de passe. Ce courriel est valide pendant deux heures.",head01Title:"PokerFace"},forgotpasswordnoaccount:{head01Title:"PokerFace",headTitle:"Nous ne vous connaissons pas, mais nous avons recu une demande de reinitialisation de mot de passe PokerFace...",head01TextOnly:"Demande erronee de reinitialisation de mot de passe PokerFace..."},passwordhasbeenreset:{head01Title:"PokerFace",headTitle:"Votre mot de passe PokerFace a ete mis a jour avec succes",head01TextOnly:"Pokerface mot de passe mis Ã  jour"},passwordhasbeenupdated:{head01Title:"PokerFace",headTitle:"Votre mot de passe PokerFace a ete mis a jour avec succes",head01TextOnly:"Pokerface mot de passe mis Ã  jour",ContentTitle:"Bonjour {name},",ContentText:"Votre mot de passe a Ã©tÃ© mis Ã  jour. Vous pouvez maintenant vous connecter avec votre nouveau mot de passe.",ButtonLabel:"Se connecter",FooterTitle:"Plus d'information",FooterText1:"Pour raison de sÃ©curitÃ©, nous vous informons que cette requÃªte nous a Ã©tÃ© adressÃ© depuis l'adresse IP {ip_address}, un systÃ¨me '{operating_system}' et avec comme navigateur '{browser_name}'.",FooterText2:"Si vous n'Ãªtes pas Ã  l'origine de cette mise Ã  jour de votre mot de passe, veuillez vous connecter et le modifier ou contactez <a href='{support_url}'>le support</a> si vous avez des questions.",Thanks:"Cordiallement,",Signature:"L'Ã©quipe de PokerFace",EndText:"Si vous avez des problÃ¨me avec le bouton ci-dessus, copier-coller l'URL ci-dessous dans votre navigateur."}},password:{meter:"Indice de complexitÃ© du mot de passe. La lettre correspond Ã  une aide pour la vÃ©rification de la bonne saisie du mot de passe.",Ensure_this_field_has_at_least_6_characters:"Votre mot de passe doit faire plus de 6 caractÃ¨res."},newPassword:{PleaseInputYourFormerPassword:"Veuillez saisir votre mot de passe actuel.",Ensure_this_field_has_at_least_6_characters:"Votre nouveau mot de passe doit faire plus de 6 caractÃ¨res.",NewPasswordSimilarToFormerOne:"Votre nouveau mot de passe doit Ãªtre diffÃ©rent de l'actuel.",ConfirmedPasswordIncorrect:"Les 2 mots de passe sont diffÃ©rents."},email:{This_field_must_be_unique:'Courriel dÃ©jÃ  present dans l\'application. Si vous avez oubliÃ© votre mot de passe utilisez le bouton "Mot de passe oubliÃ©".'},username:{A_user_with_that_username_already_exists:""},"Network Error":"Erreur de reseau","You need to be login":"Vous devez Ãªtre connectÃ©.","Request failed with status code 404":"RequÃªte en erreur. L'adresse demandÃ©e n'a pas Ã©tÃ© trouvÃ©e.","Request failed with status code 429":"Vous avez fait trop de requÃªtes. Veuillez rÃ©essayer dans une heure.","Request failed with status code 500":"RequÃªte en erreur. Le serveur n'a pas su traiter votre requÃªte."}},URLj:function(e,t){},VgzX:function(e,t){},"W/Pp":function(e,t){},ZNiQ:function(e,t){},aA6z:function(e,t){},anic:function(e,t){},oJHS:function(e,t){},urp2:function(e,t){},vOkR:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.87a7bd2d48b22bd4707f.js.map